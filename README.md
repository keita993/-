# 株価分析アプリケーション

## 概要
このアプリケーションは、株価データの分析とバックテスト機能を提供するWebアプリケーションです。Yahoo FinanceのAPIを使用して株価データを取得し、テクニカル指標に基づく投資判断をサポートします。

## 主な機能
- 株価データの取得と表示
- テクニカル分析（RSI、ボリンジャーバンド）
- バックテスト機能
- ポートフォリオ管理
- ユーザー認証

## 技術スタック
- バックエンド：Flask
- データベース：SQLite
- 外部API：Yahoo Finance
- 認証：JWT

## インストール方法

### 必要条件
- Python 3.7以上
- pip（Pythonパッケージマネージャー）

### セットアップ手順
1. リポジトリのクローン
```bash
git clone [リポジトリURL]
cd [プロジェクトディレクトリ]
```

2. 仮想環境の作成と有効化
```bash
python -m venv venv
source venv/bin/activate  # Linuxの場合
venv\Scripts\activate     # Windowsの場合
```

3. 依存パッケージのインストール
```bash
pip install -r requirements.txt
```

4. 環境変数の設定
`.env`ファイルを作成し、以下の内容を設定：
```
FLASK_SECRET_KEY=your_secret_key
```

5. データベースの初期化
```bash
python app.py
```

## 使用方法

### アプリケーションの起動
```bash
flask run
```
アプリケーションは`http://localhost:5000`で起動します。

### 主な機能の使い方

#### 1. ユーザー登録・ログイン
- 新規ユーザー登録：`/register`エンドポイント
- ログイン：`/login`エンドポイント

#### 2. 株価データの取得
- 銘柄コードを入力して株価データを取得
- テクニカル指標（RSI、ボリンジャーバンド）を表示

#### 3. バックテスト
- 買いシグナル閾値の設定（デフォルト：30）
- 売りシグナル閾値の設定（デフォルト：0）
- 売りなしモードの選択
- 取引株数の設定（デフォルト：100株）

#### 4. ポートフォリオ管理
- 銘柄の追加・削除
- ポートフォリオ一覧の表示
- 各銘柄の最新情報の確認

## API制限
- Yahoo Finance APIのレート制限に注意
- 1時間あたり2,000リクエスト
- 1日あたり48,000リクエスト

## エラー対応
- レート制限に達した場合は1時間待機
- エラーメッセージを確認し、適切な対応を実施

## セキュリティ
- パスワードはハッシュ化して保存
- JWTトークンによる認証
- セッション管理の実装

## 開発者向け情報

### プロジェクト構造
```
.
├── app.py              # メインアプリケーションファイル
├── requirements.txt    # 依存パッケージリスト
├── .env               # 環境変数設定ファイル
├── users.db           # SQLiteデータベースファイル
└── templates/         # HTMLテンプレート
```

### テスト
```bash
python -m pytest
```

## ライセンス
[ライセンス情報を記載]

## 作者
[作者情報を記載]

## 更新履歴
- 2024-03-XX: 初版リリース 